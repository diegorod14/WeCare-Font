<div class="nutri-wrapper">

  <h1 class="nutri-title">Elige a tu nutricionista</h1>
  <p class="nutri-subtitle">
    Utiliza el buscador para encontrar el nutricionista de tu preferencia
  </p>

  <!-- Buscador -->
  <mat-form-field class="nutri-search" appearance="outline">
    <mat-icon matPrefix>search</mat-icon>
    <input
      matInput
      placeholder="Buscar"
      (keyup)="onBuscar($event)"
    />
  </mat-form-field>

  <!-- Contenedor de Tarjetas -->
  <div class="nutri-card-container">

    <!-- Inicio del ngFor -->
    <mat-card class="nutri-card" *ngFor="let n of filteredNutricionistas">

      <div class="nutri-img-wrapper">
        <!-- Imagen del nutricionista -->
        <img
          [src]="n.foto_perfil_url"
          [alt]="'Foto de ' + n.nombre + ' ' + n.apellido"
        />
      </div>

      <mat-card-content>
        <!-- Estado -->
        <div class="nutri-status">
          <span class="dot"></span> Available
        </div>

        <!-- Nombre -->
        <div class="nutri-name">
          Lic. {{ n.nombre }} {{ n.apellido }}
        </div>

        <!-- Experiencia -->
        <div class="nutri-role">
          {{ n.experiencia_anos }} años de experiencia
        </div>

        <!-- Biografía corta -->
        <p class="nutri-bio">
          {{ n.biografia }}
        </p>

        <!-- Precio y Duración -->
        <p class="nutri-price">
          S/ {{ n.tarifa_consulta }} · {{ n.duracion_consulta_minutos }} min
        </p>
      </mat-card-content>

      <!-- Acciones (Botón personalizado) -->
      <!-- AQUÍ ESTÁ EL CAMBIO: Agregamos la clase y quitamos el color="primary" -->
      <mat-card-actions class="nutri-card-actions">
        <button mat-raised-button (click)="verDetalle(n.id)">
          Agendar cita
        </button>
      </mat-card-actions>

    </mat-card>
    <!-- Fin del ngFor -->

  </div>

</div>
